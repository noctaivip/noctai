<style>
.calc-overlay{
  position:fixed; inset:0; background:rgba(5,8,14,0.85);
  backdrop-filter:blur(6px); z-index:3000;
  display:flex; align-items:center; justify-content:center;
}
.calc-modal{
  width:100%; max-width:960px; background:#0f141c;
  border:1px solid #c9a44c; border-radius:18px;
  padding:36px; position:relative;
}
.calc-close{
  position:absolute; top:16px; right:18px;
  background:none; border:none; color:#aaa; font-size:24px;
  cursor:pointer;
}
.calc-sub{color:#9aa3ad; margin-bottom:20px;}
.coverage-title{font-size:14px; color:#9aa3ad; margin-bottom:10px;}
.coverage-buttons{display:flex; gap:10px; margin-bottom:26px;}
.coverage-buttons button{
  width:56px; height:34px; border-radius:8px;
  background:#0b0f16; border:1px solid #c9a44c;
  color:#fff; font-size:12px; cursor:pointer;
}
.coverage-buttons button.active{
  background:linear-gradient(180deg,#f1d48a,#d6b15e);
  color:#050b16;
}
.calc-grid{display:grid; grid-template-columns:1fr 1fr; gap:24px;}
.calc-panel{
  border:1px solid #c9a44c; border-radius:14px; padding:24px;
}
.calc-value{font-size:22px; margin:10px 0;}
.calc-muted{font-size:13px; color:#9aa3ad;}
.calc-income .calc-main{font-size:26px; color:#f1d48a;}
.calc-footer{text-align:right; margin-top:24px;}
.calc-close-btn{
  background:#0b0f16; border:1px solid #c9a44c;
  padding:10px 18px; border-radius:10px; color:#fff;
}
.calc-range{
  width:100%;
  height:6px;
  accent-color:#d6b15e;
}

.calc-range::-webkit-slider-runnable-track{
  height:6px;
  background:#3a3f47;
  border-radius:6px;
}

.calc-range::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width:18px;
  height:18px;
  margin-top:-6px;
  border-radius:50%;
  background:#d6b15e;
  border:2px solid #050b16;
  cursor:pointer;
}

.calc-range::-moz-range-track{
  height:6px;
  background:#3a3f47;
  border-radius:6px;
}

.calc-range::-moz-range-thumb{
  width:18px;
  height:18px;
  border-radius:50%;
  background:#d6b15e;
  border:2px solid #050b16;
  cursor:pointer;
}
</style>

<div id="investmentCalcOverlay" style="display:none;" class="calc-overlay">
  <div class="calc-modal">
    <button class="calc-close" onclick="closeInvestmentCalc()">×</button>
<div style="margin:-6px 0 18px 0;">
  <label style="font-size:13px;color:var(--muted);display:block;margin-bottom:6px;">
    Проект
  </label>
  <select id="projectSelector"
    style="
      width:100%;
      padding:12px 14px;
      border-radius:10px;
      background:#0b0f16;
      border:1px solid #c9a44c;
      color:#f1d48a;
      font-size:15px;
      font-weight:600;
    "
    onchange="onProjectChange(this.value)"
  >
    <option value="p001" selected>
      Активный проект №001 — AI Dispatcher + Marketplace (Логистика)
    </option>
    <option value="private" disabled>
      Закрытые проекты — только по приглашению.
    </option>
  </select>
  <div style="font-size:12px;color:var(--muted);margin-top:6px;">
    Калькулятор пересчитывается в зависимости от выбранного проекта.
  </div>
</div>